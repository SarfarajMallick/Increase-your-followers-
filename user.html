<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Followers Boost</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(135deg,#1f1c2c,#928dab);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.card{
  background:#fff;
  width:92%;
  max-width:420px;
  border-radius:20px;
  padding:26px;
  box-shadow:0 25px 50px rgba(0,0,0,.4);
}

h1{text-align:center;margin:0;color:#1f1c2c}
.sub{text-align:center;color:#555;font-size:14px;margin:8px 0 18px}

.status{
  text-align:center;
  padding:12px;
  border-radius:12px;
  font-size:14px;
  margin-bottom:14px;
}
.status.on{background:#e8fff1;color:#007a3d}
.status.off{background:#ffeaea;color:#b30000}

input,select,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:12px;
  border:1px solid #ccc;
  font-size:14px;
}

button{
  margin-top:18px;
  border:none;
  font-size:16px;
}
button.active{background:#1f1c2c;color:#fff;cursor:pointer}
button.disabled{background:#aaa;color:#fff;cursor:not-allowed}

.error{
  text-align:center;
  font-size:13px;
  color:#b30000;
  margin-top:8px;
}
</style>
</head>

<body>

<div class="card">
  <h1>ðŸš€ Followers Boost</h1>
  <div class="sub">Premium Instagram Growth Service</div>

  <div id="statusBox" class="status off">Checking availabilityâ€¦</div>

  <!-- FORM -->
  <input type="text" id="name" placeholder="Your Name">
  <input type="tel" id="number" placeholder="Mobile Number">
  <input type="text" id="username" placeholder="Instagram Id link">

  <select id="plan">
    <option value="">Select a plan</option>
    <option value="â‚¹50 - 500 Followers">â‚¹50 - 500 Followers</option>
    <option value="â‚¹100 - 1000 Followers">â‚¹100 - 1000 Followers</option>
    <option value="â‚¹50 - 1000 Likes">â‚¹50 - 1000 Likes</option>
  </select>

  <button id="orderBtn" class="disabled" onclick="order()">Order via WhatsApp</button>
  <div id="errorMsg" class="error"></div>
</div>

<script>
/* ðŸ”¥ Firebase Config */
firebase.initializeApp({
  apiKey: "AIzaSyAmLWlU0bPJfNR0sOtKyN5FGHGNWSDAFQI",
  authDomain: "followers-f4d1a.firebaseapp.com",
  databaseURL: "https://followers-f4d1a-default-rtdb.firebaseio.com",
  projectId: "followers-f4d1a",
  storageBucket: "followers-f4d1a.firebasestorage.app",
  messagingSenderId: "28363866926",
  appId: "1:28363866926:web:7b34dbf017e71b8e2f70bf"
});

const db = firebase.database();
const statusBox = document.getElementById("statusBox");
const btn = document.getElementById("orderBtn");
const errorMsg = document.getElementById("errorMsg");

/* ðŸ” Read availability from Admin Panel */
db.ref("orderControl").on("value", snap=>{
  const data = snap.val();
  if(!data) return;

  if(data.status === "on"){
    statusBox.innerText = "Orders are available";
    statusBox.className = "status on";
    btn.className = "active";
  }else{
    statusBox.innerText = "Orders are unavailable";
    statusBox.className = "status off";
    btn.className = "disabled";
  }
});

/* âœ… Order + India-only validation */
function order(){
  errorMsg.innerText = "";

  if(btn.className !== "active"){
    errorMsg.innerText = "Service is currently unavailable.";
    return;
  }

  const name = document.getElementById("name").value.trim();
  const number = document.getElementById("number").value.trim();
  const username = document.getElementById("username").value.trim();
  const plan = document.getElementById("plan").value;

  if(!name || !number || !username || !plan){
    errorMsg.innerText = "Please fill all fields.";
    return;
  }

  /* ðŸ‡®ðŸ‡³ INDIA ONLY MOBILE RULE
     - exactly 10 digits
     - must start with 6, 7, 8, or 9
  */
  const indiaMobilePattern = /^[6-9][0-9]{9}$/;
  if(!indiaMobilePattern.test(number)){
    errorMsg.innerText =
      "Enter a valid mobile number";
    return;
  }

  const msg =
    "New Order Received%0A"+
    "Name: "+name+"%0A"+
    "Mobile: "+number+"%0A"+
    "Instagram: "+username+"%0A"+
    "Plan: "+plan;

  window.open(
    "https://wa.me/918918366224?text=" + msg,
    "_blank"
  );
}
</script>

</body>
</html>